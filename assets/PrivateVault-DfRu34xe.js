import{r,g as u,h as x,j as e,i as g,k as h,l as p,m as o,n as b,u as y}from"./index-M_0W3G2q.js";function f(){const[n,i]=r.useState([]),[s,a]=r.useState("");r.useEffect(()=>{const t=u(x(o,"notes"),l=>{i(l.docs.map(c=>({id:c.id,...c.data()})))});return()=>t()},[]);const d=async()=>{s.trim()&&(await g(x(o,"notes"),{text:s.trim(),createdAt:Date.now()}),a(""))},m=async t=>{await h(p(o,"notes",t))};return e.jsxs("div",{className:"bg-white border rounded-lg p-5 shadow-sm",children:[e.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Notes"}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("input",{value:s,onChange:t=>a(t.target.value),onKeyDown:t=>t.key==="Enter"&&d(),placeholder:"Write a note...",className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-gray-400"}),e.jsx("button",{onClick:d,className:"px-3 py-2 bg-gray-800 text-white rounded-md hover:bg-gray-900 text-sm cursor-pointer",children:"Add"})]}),n.length===0?e.jsx("p",{className:"text-sm text-gray-500",children:"No notes yet."}):e.jsx("div",{className:"space-y-2",children:n.map((t,l)=>e.jsxs("div",{className:"flex justify-between items-center bg-gray-50 px-3 py-2 rounded-lg",children:[e.jsxs("span",{className:"text-sm text-gray-700",children:[l+1,". ",t.text]}),e.jsx("button",{onClick:()=>m(t.id),className:"text-red-500 text-xs font-medium px-1 py-0.5 rounded border border-red-500 hover:cursor-pointer",children:"Delete"})]},t.id))})]})}function j(){const[n,i]=r.useState([]),[s,a]=r.useState("");r.useEffect(()=>{const t=u(x(o,"links"),l=>{i(l.docs.map(c=>({id:c.id,...c.data()})))});return()=>t()},[]);const d=async()=>{s.trim()&&(await g(x(o,"links"),{text:s.trim(),createdAt:Date.now()}),a(""))},m=async t=>{await h(p(o,"links",t))};return e.jsxs("div",{className:"bg-white border rounded-lg p-5 shadow-sm",children:[e.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Links"}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("input",{value:s,onChange:t=>a(t.target.value),onKeyDown:t=>t.key==="Enter"&&d(),placeholder:"Paste a link...",className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-gray-400"}),e.jsx("button",{onClick:d,className:"px-3 py-2 bg-gray-800 text-white rounded-md hover:bg-gray-900 text-sm cursor-pointer",children:"Add"})]}),n.length===0?e.jsx("p",{className:"text-sm text-gray-500",children:"No links yet."}):e.jsx("div",{className:"space-y-2",children:n.map(t=>e.jsxs("div",{className:"flex justify-between items-center bg-gray-50 px-3 py-2 rounded-lg",children:[e.jsx("a",{href:t.text,target:"_blank",rel:"noreferrer",className:"text-sm text-blue-600 hover:underline truncate",children:t.text}),e.jsx("button",{onClick:()=>m(t.id),className:"text-red-500 text-xs font-medium px-1 py-0.5 rounded border border-red-500 hover:cursor-pointer",children:"Delete"})]},t.id))})]})}function N(){return e.jsxs("div",{className:"bg-white border rounded-2xl p-5 shadow-sm",children:[e.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Files"}),e.jsx("p",{className:"text-sm text-gray-500",children:"File upload integration coming next."})]})}function w(){const{logout:n,user:i}=b(),s=y(),a=async()=>{await n(),s("/vault")};return e.jsx("div",{className:"min-h-screen bg-[#f4f4f4] px-4 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Private Vault"}),e.jsx("button",{onClick:a,className:"bg-gray-900 px-3 py-2 rounded-md text-white font-medium text-sm scale-95 hover:cursor-pointer",children:"Logout"})]}),e.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Welcome back, ",i?.email]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsx(f,{}),e.jsx(j,{})]}),e.jsx(N,{})]})})}export{w as default};
